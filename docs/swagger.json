{"openapi":"3.0.0","info":{"title":"Todo App API","version":"1.0.0","description":"A comprehensive todo management API with lists, todos, and user management","contact":{"name":"Todo App API Support","email":"support@todoapp.com"}},"servers":[{"url":"http://localhost:3000","description":"Development server"}],"components":{"securitySchemes":{"BearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT","description":"JWT token for authenticating API requests"}},"schemas":{"User":{"type":"object","required":["id","firstName","lastName","email","role"],"properties":{"id":{"type":"string","description":"Unique identifier for the user","example":"6479a2e8b123456789abcdef"},"firstName":{"type":"string","description":"User's first name","example":"John"},"lastName":{"type":"string","description":"User's last name","example":"Doe"},"email":{"type":"string","format":"email","description":"User's email address","example":"john.doe@example.com"},"role":{"type":"string","enum":["user","admin"],"description":"User's role in the system","example":"user"},"isActive":{"type":"boolean","description":"Whether the user account is active","example":true},"createdAt":{"type":"string","format":"date-time","description":"When the user was created","example":"2023-06-01T10:00:00.000Z"},"updatedAt":{"type":"string","format":"date-time","description":"When the user was last updated","example":"2023-06-01T10:00:00.000Z"}}},"TodoList":{"type":"object","required":["id","name","ownerId"],"properties":{"id":{"type":"string","description":"Unique identifier for the todo list","example":"6479a2e8b123456789abcdef"},"name":{"type":"string","description":"Name of the todo list","example":"Work Tasks"},"description":{"type":"string","description":"Description of the todo list","example":"Tasks related to work projects"},"ownerId":{"type":"string","description":"ID of the user who owns this list","example":"6479a2e8b123456789abcdef"},"isArchived":{"type":"boolean","description":"Whether the list is archived","example":false},"members":{"type":"array","description":"List members with their roles","items":{"type":"object","properties":{"userId":{"type":"string","description":"Member user ID","example":"6479a2e8b123456789abcdef"},"role":{"type":"string","enum":["owner","admin","member","viewer"],"description":"Member's role in the list","example":"member"},"addedAt":{"type":"string","format":"date-time","description":"When the member was added","example":"2023-06-01T10:00:00.000Z"}}}},"tags":{"type":"array","description":"Tags associated with the list","items":{"type":"string"},"example":["work","urgent"]},"createdAt":{"type":"string","format":"date-time","description":"When the list was created","example":"2023-06-01T10:00:00.000Z"},"updatedAt":{"type":"string","format":"date-time","description":"When the list was last updated","example":"2023-06-01T10:00:00.000Z"}}},"Todo":{"type":"object","required":["id","name","listId","userId","status","priority"],"properties":{"id":{"type":"string","description":"Unique identifier for the todo","example":"6479a2e8b123456789abcdef"},"name":{"type":"string","description":"Name/title of the todo","example":"Complete project documentation"},"description":{"type":"string","description":"Detailed description of the todo","example":"Write comprehensive documentation for the API"},"listId":{"type":"string","description":"ID of the todo list this belongs to","example":"6479a2e8b123456789abcdef"},"userId":{"type":"string","description":"ID of the user who created this todo","example":"6479a2e8b123456789abcdef"},"status":{"type":"string","enum":["not_started","in_progress","completed"],"description":"Current status of the todo","example":"not_started"},"priority":{"type":"string","enum":["low","medium","high","urgent"],"description":"Priority level of the todo","example":"medium"},"dueDate":{"type":"string","format":"date-time","description":"Due date for the todo","example":"2023-06-15T10:00:00.000Z"},"tags":{"type":"array","description":"Tags associated with the todo","items":{"type":"string"},"example":["documentation","urgent"]},"createdAt":{"type":"string","format":"date-time","description":"When the todo was created","example":"2023-06-01T10:00:00.000Z"},"updatedAt":{"type":"string","format":"date-time","description":"When the todo was last updated","example":"2023-06-01T10:00:00.000Z"},"listName":{"type":"string","description":"Name of the list (populated for global todos view)","example":"Work Tasks"}}},"CreateTodoRequest":{"type":"object","required":["name","listId"],"properties":{"name":{"type":"string","description":"Name/title of the todo","example":"Complete project documentation"},"description":{"type":"string","description":"Detailed description of the todo","example":"Write comprehensive documentation for the API"},"listId":{"type":"string","description":"ID of the todo list this belongs to","example":"6479a2e8b123456789abcdef"},"status":{"type":"string","enum":["not_started","in_progress","completed"],"description":"Initial status of the todo","example":"not_started"},"priority":{"type":"string","enum":["low","medium","high","urgent"],"description":"Priority level of the todo","example":"medium"},"dueDate":{"type":"string","format":"date-time","description":"Due date for the todo","example":"2023-06-15T10:00:00.000Z"},"tags":{"type":"array","description":"Tags to associate with the todo","items":{"type":"string"},"example":["documentation","urgent"]}}},"UpdateTodoRequest":{"type":"object","properties":{"name":{"type":"string","description":"Name/title of the todo","example":"Complete project documentation"},"description":{"type":"string","description":"Detailed description of the todo","example":"Write comprehensive documentation for the API"},"status":{"type":"string","enum":["not_started","in_progress","completed"],"description":"Status of the todo","example":"in_progress"},"priority":{"type":"string","enum":["low","medium","high","urgent"],"description":"Priority level of the todo","example":"high"},"dueDate":{"type":"string","format":"date-time","description":"Due date for the todo","example":"2023-06-15T10:00:00.000Z"},"tags":{"type":"array","description":"Tags to associate with the todo","items":{"type":"string"},"example":["documentation","urgent"]}}},"CreateTodoListRequest":{"type":"object","required":["name"],"properties":{"name":{"type":"string","description":"Name of the todo list","example":"Work Tasks"},"description":{"type":"string","description":"Description of the todo list","example":"Tasks related to work projects"},"tags":{"type":"array","description":"Tags to associate with the list","items":{"type":"string"},"example":["work","urgent"]}}},"UpdateTodoListRequest":{"type":"object","properties":{"name":{"type":"string","description":"Name of the todo list","example":"Work Tasks"},"description":{"type":"string","description":"Description of the todo list","example":"Tasks related to work projects"},"isArchived":{"type":"boolean","description":"Whether to archive the list","example":false},"tags":{"type":"array","description":"Tags to associate with the list","items":{"type":"string"},"example":["work","urgent"]}}},"LoginRequest":{"type":"object","required":["email","password"],"properties":{"email":{"type":"string","format":"email","description":"User's email address","example":"john.doe@example.com"},"password":{"type":"string","description":"User's password","example":"SecurePassword123!"}}},"RegisterRequest":{"type":"object","required":["firstName","lastName","email","password"],"properties":{"firstName":{"type":"string","description":"User's first name","example":"John"},"lastName":{"type":"string","description":"User's last name","example":"Doe"},"email":{"type":"string","format":"email","description":"User's email address","example":"john.doe@example.com"},"password":{"type":"string","description":"User's password (minimum 8 characters)","example":"SecurePassword123!"}}},"UpdateUserRequest":{"type":"object","properties":{"firstName":{"type":"string","description":"User's first name","example":"John"},"lastName":{"type":"string","description":"User's last name","example":"Doe"},"password":{"type":"string","description":"New password (minimum 8 characters)","example":"NewSecurePassword123!"}}},"ApiResponse":{"type":"object","required":["status"],"properties":{"status":{"type":"string","enum":["success","error"],"description":"Response status","example":"success"},"data":{"type":"object","description":"Response data"},"message":{"type":"string","description":"Response message","example":"Operation completed successfully"}}},"ErrorResponse":{"type":"object","required":["status","message"],"properties":{"status":{"type":"string","enum":["error"],"description":"Error status","example":"error"},"message":{"type":"string","description":"Error message","example":"Validation failed"},"stack":{"type":"string","description":"Error stack trace (development only)"}}},"TodoStats":{"type":"object","properties":{"total":{"type":"integer","description":"Total number of todos","example":25},"notStarted":{"type":"integer","description":"Number of todos not started","example":10},"inProgress":{"type":"integer","description":"Number of todos in progress","example":8},"completed":{"type":"integer","description":"Number of completed todos","example":7},"byPriority":{"type":"object","properties":{"low":{"type":"integer","example":5},"medium":{"type":"integer","example":10},"high":{"type":"integer","example":7},"urgent":{"type":"integer","example":3}}}}},"AddMemberRequest":{"type":"object","required":["userId","role"],"properties":{"userId":{"type":"string","description":"User ID to add as a member","example":"6479a2e8b123456789abcdef"},"role":{"type":"string","enum":["admin","member","viewer"],"description":"Role to assign to the new member","example":"member"}}},"UpdateMemberRoleRequest":{"type":"object","required":["userId","role"],"properties":{"userId":{"type":"string","description":"User ID of the member to update","example":"6479a2e8b123456789abcdef"},"role":{"type":"string","enum":["admin","member","viewer"],"description":"New role to assign to the member","example":"admin"}}}}},"security":[{"BearerAuth":[]}],"paths":{"/api/auth/register":{"post":{"summary":"Register a new user","description":"Creates a new user account with the provided information","tags":["Authentication"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterRequest"}}}},"responses":{"201":{"description":"User registered successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponse"},{"type":"object","properties":{"data":{"type":"object","properties":{"user":{"$ref":"#/components/schemas/User"},"token":{"type":"string","description":"JWT authentication token","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."}}}}}]}}}},"400":{"description":"Validation error or user already exists","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/api/auth/login":{"post":{"summary":"Login user","description":"Authenticates a user with email and password","tags":["Authentication"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}}},"responses":{"200":{"description":"User logged in successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponse"},{"type":"object","properties":{"data":{"type":"object","properties":{"user":{"$ref":"#/components/schemas/User"},"token":{"type":"string","description":"JWT authentication token","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."}}}}}]}}}},"400":{"description":"Validation error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"401":{"description":"Invalid credentials","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/api/auth/logout":{"post":{"summary":"Logout user","description":"Logs out the current user and invalidates their session","tags":["Authentication"],"security":[{"BearerAuth":[]}],"responses":{"200":{"description":"User logged out successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse"}}}},"401":{"description":"Unauthorized - invalid or missing token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/api/auth/me":{"get":{"summary":"Get current user","description":"Retrieves the profile information of the currently authenticated user","tags":["Authentication"],"security":[{"BearerAuth":[]}],"responses":{"200":{"description":"Current user information retrieved successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponse"},{"type":"object","properties":{"data":{"type":"object","properties":{"user":{"$ref":"#/components/schemas/User"}}}}}]}}}},"401":{"description":"Unauthorized - invalid or missing token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}},"patch":{"summary":"Update user profile","description":"Updates the profile information of the currently authenticated user","tags":["Authentication"],"security":[{"BearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserRequest"}}}},"responses":{"200":{"description":"User profile updated successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponse"},{"type":"object","properties":{"data":{"type":"object","properties":{"user":{"$ref":"#/components/schemas/User"}}}}}]}}}},"400":{"description":"Validation error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"401":{"description":"Unauthorized - invalid or missing token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/api/todo-lists":{"post":{"summary":"Create a new todo list","description":"Creates a new todo list for the current user","tags":["Todo Lists"],"security":[{"BearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateTodoListRequest"}}}},"responses":{"201":{"description":"Todo list created successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponse"},{"type":"object","properties":{"data":{"type":"object","properties":{"todoList":{"$ref":"#/components/schemas/TodoList"}}}}}]}}}},"400":{"description":"Validation error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"401":{"description":"Unauthorized - invalid or missing token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}},"get":{"summary":"Get all todo lists for the current user","description":"Retrieves all todo lists that the user has access to with optional filtering and sorting","tags":["Todo Lists"],"security":[{"BearerAuth":[]}],"parameters":[{"in":"query","name":"search","description":"Search in todo list name and description","schema":{"type":"string","example":"work"}},{"in":"query","name":"sortBy","description":"Sort field","schema":{"type":"string","enum":["createdAt","updatedAt","name"],"example":"createdAt"}},{"in":"query","name":"sortOrder","description":"Sort order","schema":{"type":"string","enum":["asc","desc"],"example":"desc"}},{"in":"query","name":"page","description":"Page number for pagination","schema":{"type":"integer","minimum":1,"example":1}},{"in":"query","name":"limit","description":"Number of items per page","schema":{"type":"integer","minimum":1,"maximum":100,"example":10}}],"responses":{"200":{"description":"Todo lists retrieved successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponse"},{"type":"object","properties":{"data":{"type":"object","properties":{"todoLists":{"type":"array","items":{"$ref":"#/components/schemas/TodoList"}},"pagination":{"type":"object","properties":{"page":{"type":"integer","example":1},"limit":{"type":"integer","example":10},"total":{"type":"integer","example":5},"pages":{"type":"integer","example":1}}}}}}}]}}}},"401":{"description":"Unauthorized - invalid or missing token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/api/todo-lists/{id}":{"get":{"summary":"Get a specific todo list by ID","description":"Retrieves a specific todo list by its ID","tags":["Todo Lists"],"security":[{"BearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"description":"Todo list ID","schema":{"type":"string","example":"6479a2e8b123456789abcdef"}}],"responses":{"200":{"description":"Todo list retrieved successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponse"},{"type":"object","properties":{"data":{"type":"object","properties":{"todoList":{"$ref":"#/components/schemas/TodoList"}}}}}]}}}},"401":{"description":"Unauthorized - invalid or missing token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"Forbidden - no access to this todo list","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Todo list not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}},"patch":{"summary":"Update a todo list","description":"Updates an existing todo list","tags":["Todo Lists"],"security":[{"BearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"description":"Todo list ID","schema":{"type":"string","example":"6479a2e8b123456789abcdef"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateTodoListRequest"}}}},"responses":{"200":{"description":"Todo list updated successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponse"},{"type":"object","properties":{"data":{"type":"object","properties":{"todoList":{"$ref":"#/components/schemas/TodoList"}}}}}]}}}},"400":{"description":"Validation error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"401":{"description":"Unauthorized - invalid or missing token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"Forbidden - no access to this todo list","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Todo list not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}},"delete":{"summary":"Delete a todo list","description":"Deletes an existing todo list","tags":["Todo Lists"],"security":[{"BearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"description":"Todo list ID","schema":{"type":"string","example":"6479a2e8b123456789abcdef"}}],"responses":{"200":{"description":"Todo list deleted successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse"}}}},"401":{"description":"Unauthorized - invalid or missing token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"Forbidden - no access to this todo list","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Todo list not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/api/todo-lists/{id}/members":{"post":{"summary":"Add a member to a todo list","description":"Adds a new member to the specified todo list","tags":["Todo Lists"],"security":[{"BearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"description":"Todo list ID","schema":{"type":"string","example":"6479a2e8b123456789abcdef"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddMemberRequest"}}}},"responses":{"200":{"description":"Member added successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponse"},{"type":"object","properties":{"data":{"type":"object","properties":{"todoList":{"$ref":"#/components/schemas/TodoList"}}}}}]}}}},"400":{"description":"Validation error or member already exists","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"401":{"description":"Unauthorized - invalid or missing token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"Forbidden - no access to this todo list or insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Todo list or user not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}},"patch":{"summary":"Update a member's role","description":"Updates the role of an existing member in the todo list","tags":["Todo Lists"],"security":[{"BearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"description":"Todo list ID","schema":{"type":"string","example":"6479a2e8b123456789abcdef"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateMemberRoleRequest"}}}},"responses":{"200":{"description":"Member role updated successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponse"},{"type":"object","properties":{"data":{"type":"object","properties":{"todoList":{"$ref":"#/components/schemas/TodoList"}}}}}]}}}},"400":{"description":"Validation error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"401":{"description":"Unauthorized - invalid or missing token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"Forbidden - no access to this todo list or insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Todo list or member not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/api/todo-lists/{id}/members/{memberId}":{"delete":{"summary":"Remove a member from a todo list","description":"Removes an existing member from the specified todo list","tags":["Todo Lists"],"security":[{"BearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"description":"Todo list ID","schema":{"type":"string","example":"6479a2e8b123456789abcdef"}},{"in":"path","name":"memberId","required":true,"description":"Member user ID","schema":{"type":"string","example":"6479a2e8b987654321fedcba"}}],"responses":{"200":{"description":"Member removed successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponse"},{"type":"object","properties":{"data":{"type":"object","properties":{"todoList":{"$ref":"#/components/schemas/TodoList"}}}}}]}}}},"401":{"description":"Unauthorized - invalid or missing token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"Forbidden - no access to this todo list or insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Todo list or member not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/api/todo-lists/{id}/leave":{"post":{"summary":"Leave a todo list","description":"Allows the current user to leave a todo list they are a member of","tags":["Todo Lists"],"security":[{"BearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"description":"Todo list ID","schema":{"type":"string","example":"6479a2e8b123456789abcdef"}}],"responses":{"200":{"description":"Successfully left the todo list","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse"}}}},"400":{"description":"Cannot leave - user is the owner or last member","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"401":{"description":"Unauthorized - invalid or missing token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"Forbidden - not a member of this todo list","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Todo list not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/api/todo-lists/{listId}/todos":{"get":{"summary":"Get all todos for a specific list","description":"Retrieves all todos belonging to a specific list with optional filtering and sorting","tags":["Todo Lists"],"security":[{"BearerAuth":[]}],"parameters":[{"in":"path","name":"listId","required":true,"description":"Todo list ID","schema":{"type":"string","example":"6479a2e8b123456789abcdef"}},{"in":"query","name":"status","description":"Filter by todo status","schema":{"type":"string","enum":["not_started","in_progress","completed"],"example":"in_progress"}},{"in":"query","name":"priority","description":"Filter by todo priority","schema":{"type":"string","enum":["low","medium","high","urgent"],"example":"high"}},{"in":"query","name":"tags","description":"Filter by tags (comma-separated)","schema":{"type":"string","example":"work,urgent"}},{"in":"query","name":"search","description":"Search in todo name and description","schema":{"type":"string","example":"project"}},{"in":"query","name":"sortBy","description":"Sort field","schema":{"type":"string","enum":["createdAt","updatedAt","dueDate","priority","name"],"example":"dueDate"}},{"in":"query","name":"sortOrder","description":"Sort order","schema":{"type":"string","enum":["asc","desc"],"example":"asc"}},{"in":"query","name":"page","description":"Page number for pagination","schema":{"type":"integer","minimum":1,"example":1}},{"in":"query","name":"limit","description":"Number of items per page","schema":{"type":"integer","minimum":1,"maximum":100,"example":10}}],"responses":{"200":{"description":"Todos retrieved successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponse"},{"type":"object","properties":{"data":{"type":"object","properties":{"todos":{"type":"array","items":{"$ref":"#/components/schemas/Todo"}},"pagination":{"type":"object","properties":{"page":{"type":"integer","example":1},"limit":{"type":"integer","example":10},"total":{"type":"integer","example":25},"pages":{"type":"integer","example":3}}}}}}}]}}}},"401":{"description":"Unauthorized - invalid or missing token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"Forbidden - no access to the specified list","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Todo list not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/api/todo-lists/{listId}/todos/stats":{"get":{"summary":"Get todo statistics for a specific list","description":"Retrieves aggregated statistics about todos in a specific list","tags":["Todo Lists"],"security":[{"BearerAuth":[]}],"parameters":[{"in":"path","name":"listId","required":true,"description":"Todo list ID","schema":{"type":"string","example":"6479a2e8b123456789abcdef"}}],"responses":{"200":{"description":"Todo statistics retrieved successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponse"},{"type":"object","properties":{"data":{"type":"object","properties":{"stats":{"$ref":"#/components/schemas/TodoStats"}}}}}]}}}},"401":{"description":"Unauthorized - invalid or missing token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"Forbidden - no access to the specified list","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Todo list not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/api/todos":{"post":{"summary":"Create a new todo","description":"Creates a new todo item in a specified list","tags":["Todos"],"security":[{"BearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateTodoRequest"}}}},"responses":{"201":{"description":"Todo created successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponse"},{"type":"object","properties":{"data":{"type":"object","properties":{"todo":{"$ref":"#/components/schemas/Todo"}}}}}]}}}},"400":{"description":"Validation error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"401":{"description":"Unauthorized - invalid or missing token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"Forbidden - no access to the specified list","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}},"get":{"summary":"Get all todos for the current user","description":"Retrieves all todos belonging to the current user with optional filtering and sorting","tags":["Todos"],"security":[{"BearerAuth":[]}],"parameters":[{"in":"query","name":"status","description":"Filter by todo status","schema":{"type":"string","enum":["not_started","in_progress","completed"],"example":"in_progress"}},{"in":"query","name":"priority","description":"Filter by todo priority","schema":{"type":"string","enum":["low","medium","high","urgent"],"example":"high"}},{"in":"query","name":"tags","description":"Filter by tags (comma-separated)","schema":{"type":"string","example":"work,urgent"}},{"in":"query","name":"search","description":"Search in todo name and description","schema":{"type":"string","example":"project"}},{"in":"query","name":"sortBy","description":"Sort field","schema":{"type":"string","enum":["createdAt","updatedAt","dueDate","priority","name"],"example":"dueDate"}},{"in":"query","name":"sortOrder","description":"Sort order","schema":{"type":"string","enum":["asc","desc"],"example":"asc"}},{"in":"query","name":"page","description":"Page number for pagination","schema":{"type":"integer","minimum":1,"example":1}},{"in":"query","name":"limit","description":"Number of items per page","schema":{"type":"integer","minimum":1,"maximum":100,"example":10}}],"responses":{"200":{"description":"Todos retrieved successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponse"},{"type":"object","properties":{"data":{"type":"object","properties":{"todos":{"type":"array","items":{"$ref":"#/components/schemas/Todo"}},"pagination":{"type":"object","properties":{"page":{"type":"integer","example":1},"limit":{"type":"integer","example":10},"total":{"type":"integer","example":25},"pages":{"type":"integer","example":3}}}}}}}]}}}},"401":{"description":"Unauthorized - invalid or missing token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/api/todos/stats":{"get":{"summary":"Get todo statistics for the current user","description":"Retrieves aggregated statistics about the user's todos","tags":["Todos"],"security":[{"BearerAuth":[]}],"responses":{"200":{"description":"Todo statistics retrieved successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponse"},{"type":"object","properties":{"data":{"type":"object","properties":{"stats":{"$ref":"#/components/schemas/TodoStats"}}}}}]}}}},"401":{"description":"Unauthorized - invalid or missing token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/api/todos/list/{listId}":{"get":{"summary":"Get all todos for a specific list","description":"Retrieves all todos belonging to a specific list with optional filtering and sorting","tags":["Todos"],"security":[{"BearerAuth":[]}],"parameters":[{"in":"path","name":"listId","required":true,"description":"Todo list ID","schema":{"type":"string","example":"6479a2e8b123456789abcdef"}},{"in":"query","name":"status","description":"Filter by todo status","schema":{"type":"string","enum":["not_started","in_progress","completed"],"example":"in_progress"}},{"in":"query","name":"priority","description":"Filter by todo priority","schema":{"type":"string","enum":["low","medium","high","urgent"],"example":"high"}},{"in":"query","name":"tags","description":"Filter by tags (comma-separated)","schema":{"type":"string","example":"work,urgent"}},{"in":"query","name":"search","description":"Search in todo name and description","schema":{"type":"string","example":"project"}},{"in":"query","name":"sortBy","description":"Sort field","schema":{"type":"string","enum":["createdAt","updatedAt","dueDate","priority","name"],"example":"dueDate"}},{"in":"query","name":"sortOrder","description":"Sort order","schema":{"type":"string","enum":["asc","desc"],"example":"asc"}},{"in":"query","name":"page","description":"Page number for pagination","schema":{"type":"integer","minimum":1,"example":1}},{"in":"query","name":"limit","description":"Number of items per page","schema":{"type":"integer","minimum":1,"maximum":100,"example":10}}],"responses":{"200":{"description":"Todos retrieved successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponse"},{"type":"object","properties":{"data":{"type":"object","properties":{"todos":{"type":"array","items":{"$ref":"#/components/schemas/Todo"}},"pagination":{"type":"object","properties":{"page":{"type":"integer","example":1},"limit":{"type":"integer","example":10},"total":{"type":"integer","example":25},"pages":{"type":"integer","example":3}}}}}}}]}}}},"401":{"description":"Unauthorized - invalid or missing token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"Forbidden - no access to the specified list","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Todo list not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/api/todos/list/{listId}/stats":{"get":{"summary":"Get todo statistics for a specific list","description":"Retrieves aggregated statistics about todos in a specific list","tags":["Todos"],"security":[{"BearerAuth":[]}],"parameters":[{"in":"path","name":"listId","required":true,"description":"Todo list ID","schema":{"type":"string","example":"6479a2e8b123456789abcdef"}}],"responses":{"200":{"description":"Todo statistics retrieved successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponse"},{"type":"object","properties":{"data":{"type":"object","properties":{"stats":{"$ref":"#/components/schemas/TodoStats"}}}}}]}}}},"401":{"description":"Unauthorized - invalid or missing token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"Forbidden - no access to the specified list","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Todo list not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/api/todos/{id}":{"get":{"summary":"Get a specific todo by ID","description":"Retrieves a specific todo item by its ID","tags":["Todos"],"security":[{"BearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"description":"Todo ID","schema":{"type":"string","example":"6479a2e8b123456789abcdef"}}],"responses":{"200":{"description":"Todo retrieved successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponse"},{"type":"object","properties":{"data":{"type":"object","properties":{"todo":{"$ref":"#/components/schemas/Todo"}}}}}]}}}},"401":{"description":"Unauthorized - invalid or missing token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"Forbidden - no access to this todo","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Todo not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}},"patch":{"summary":"Update a todo","description":"Updates an existing todo item","tags":["Todos"],"security":[{"BearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"description":"Todo ID","schema":{"type":"string","example":"6479a2e8b123456789abcdef"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateTodoRequest"}}}},"responses":{"200":{"description":"Todo updated successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponse"},{"type":"object","properties":{"data":{"type":"object","properties":{"todo":{"$ref":"#/components/schemas/Todo"}}}}}]}}}},"400":{"description":"Validation error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"401":{"description":"Unauthorized - invalid or missing token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"Forbidden - no access to this todo","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Todo not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}},"delete":{"summary":"Delete a todo","description":"Deletes an existing todo item","tags":["Todos"],"security":[{"BearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"description":"Todo ID","schema":{"type":"string","example":"6479a2e8b123456789abcdef"}}],"responses":{"200":{"description":"Todo deleted successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse"}}}},"401":{"description":"Unauthorized - invalid or missing token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"Forbidden - no access to this todo","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Todo not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/api/users":{"get":{"summary":"Get all users","description":"Retrieves a list of all users in the system (admin only)","tags":["Users"],"security":[{"BearerAuth":[]}],"responses":{"200":{"description":"Users retrieved successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponse"},{"type":"object","properties":{"data":{"type":"object","properties":{"users":{"type":"array","items":{"$ref":"#/components/schemas/User"}}}}}}]}}}},"401":{"description":"Unauthorized - invalid or missing token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"Forbidden - admin access required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/api/users/{id}":{"get":{"summary":"Get user by ID","description":"Retrieves a specific user by their ID (admin only)","tags":["Users"],"security":[{"BearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"description":"User ID","schema":{"type":"string","example":"6479a2e8b123456789abcdef"}}],"responses":{"200":{"description":"User retrieved successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponse"},{"type":"object","properties":{"data":{"type":"object","properties":{"user":{"$ref":"#/components/schemas/User"}}}}}]}}}},"401":{"description":"Unauthorized - invalid or missing token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"Forbidden - admin access required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"User not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}},"patch":{"summary":"Update user by ID","description":"Updates a specific user's information (admin only)","tags":["Users"],"security":[{"BearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"description":"User ID","schema":{"type":"string","example":"6479a2e8b123456789abcdef"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"firstName":{"type":"string","description":"User's first name","example":"John"},"lastName":{"type":"string","description":"User's last name","example":"Doe"},"email":{"type":"string","format":"email","description":"User's email address","example":"john.doe@example.com"},"role":{"type":"string","enum":["user","admin"],"description":"User's role in the system","example":"user"},"isActive":{"type":"boolean","description":"Whether the user account is active","example":true}}}}}},"responses":{"200":{"description":"User updated successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponse"},{"type":"object","properties":{"data":{"type":"object","properties":{"user":{"$ref":"#/components/schemas/User"}}}}}]}}}},"400":{"description":"Validation error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"401":{"description":"Unauthorized - invalid or missing token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"Forbidden - admin access required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"User not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/api/users/me":{"patch":{"summary":"Update current user","description":"Updates the profile information of the currently authenticated user","tags":["Users"],"security":[{"BearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserRequest"}}}},"responses":{"200":{"description":"User profile updated successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/ApiResponse"},{"type":"object","properties":{"data":{"type":"object","properties":{"user":{"$ref":"#/components/schemas/User"}}}}}]}}}},"400":{"description":"Validation error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"401":{"description":"Unauthorized - invalid or missing token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}}},"tags":[]}